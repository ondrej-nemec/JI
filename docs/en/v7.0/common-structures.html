<h1>Structures</h1>

<h2>Dictionary</h2>

<p>Dictionary classes help to work with objects with unknown datatype, input data with variable datatype or data in string. Contains <code>MapDictionary</code>(<code>Map</code> wrapper), <code>ListDictionary</code>(<code>List</code> wrapper) and <code>DictionaryValue</code>(value wrapper)</p>

<h3>DictionaryValue</h3>

<p>Allows you to get a value in a given type. If the value is of a different type, it will try to parse or cast.
	Supported:
	<ul>
		<li><code>Boolean</code>, <code>bool</code> - returns <code>true</code> if value is true or "true" or "on" or "1"</li>
		<li>Numbers (including primitive types): <code>Byte</code>, <code>Short</code>, <code>Integer</code>, <code>Long</code>, <code>Float</code>, <code>Double</code></li>
		<li>Text: <code>Character</code>, <code>char</code>, <code>String</code></li>
		<li><code>Map</code>, <code>MapDictionary</code> - cast from <code>Map</code> to <code>MapDictionary</code> and vise versa automatically.</li>
		<li><code>List</code>, <code>ListDictionary</code> and <code>Set</code> - cast from <code>List</code> to <code>ListDictionary</code>, from <code>List</code> to <code>Set</code>, from <code>Set</code> to <code>ListDictionary</code> and all vise versa automatically. Eventual can be <code>String</code> splited by given delimeter to get <code>List</code>. </li>
		<li><code>Enums</code></li>
		<li>Time: <code>LocalDate</code>, <code>LocalTime</code>, <code>LocalDateTime</code>, <code>ZonedDateTime</code>. All times can be casted to another, parsed from <code>String</code> with ISO or set pattern. Also from number.</li>
		<li>Arbitrary class - from <code>Map</code>. See <a href="?file=common-functions.html#H2-6">Mapper</a></li>
	</ul>

	If project contains classes for JSON parsing, <code>DictionaryValue</code> can parse <code>Map</code>, <code>MapDictionary</code>, <code>List</code> and <code>ListDictionary</code> from string. Or can be set function for parsing these classes.
</p>

<h3>Examples</h3>

<h4>MapDictionary</h4>

<strong>Construct</strong>

<p class="code">
<code>
	<span class="comment">// with not empty Map</span> <br>
	Map&lt;K, V&gt; map = ...; <br>
	new MapDictionary(map); <br>
	<br>
	<span class="comment">// as empty HashMap </span><br>
	MapDictionary.hashMap(); <br>
	<span class="comment">// as empty Properties</span> <br>
	MapDictionary.properties();
</code>
</p>

<strong>To Map</strong> 

<p class="code">
<code>
	<span class="comment">// get Map from MapDictionary</span> <br>
	Map&lt;Object, Object&gt; map = MapDictionary.hashMap().put("key", "value").put("key2", 123).toMap(); <br>
</code>
</p>

<strong>Get value</strong>	

<p class="code">
<code>
	MapDictionary&lt;Object, Object&gt; dictionary = MapDictionary.hashMap() <br>
	<span class="tab"></span> .put("key1", "some value") <br>
	<span class="tab"></span> .put("key2", 123) <br>
	<span class="tab"></span>.toMap(); <br>
	<span class="comment">// get "raw" value</span> <br>
	Object value = dictionary.get("key1"); // value will be String "some value" <br>
	<span class="comment">// or</span>  <br>
	Object value2 = dictionary.get("key2"); // value2 will be Integer 123 <br>
	<span class="comment">// to get new DictionaryValue from value </span> <br>
	DictionaryValue v = dictionary.get("key2"); <br>
	<span class="comment">// to get with type </span> <br>
	String string = dictionary.getString("key1"); <br>
	Integer integer = dictionary.getInteger("key2"); <br>
	List&lt;String&gt; list = dictionary.getList(" ");<span class="comment"> // split value by ' ' -> list will contains two fields "some" and "value"</span> 
</code>
</p>

<strong>ForEach</strong>

<p class="code">
<code>
	MapDictionary&lt;Object, Object&gt; map = ...; <br>
	map.forEach((key, value)->{ <br>
<span class="tab"></span>		// key is Object or other given class<br>
<span class="tab"></span>		// !! value is DictionaryValue !! <br>
	}); <br>
	<span class="comment">// for standart forEach use forEach2 method</span>
</code>
</p>

<h4>ListDictionary</h4>

<strong>Construct</strong>

<p class="code">
<code>
	<span class="comment">// with not empty List</span> <br>
	Collection&lt;S&gt; collection = ...; <br>
	new ListDictionary(collection); <br>
	<span class="comment">// as empty LinkedList </span><br>
	ListDictionary.linkedList(); <br>
	<span class="comment">// as empty ArrayList </span><br>
	ListDictionary.arrayList();
	<span class="comment">// as empty HashSet </span><br>
	ListDictionary.hashSet();
</code>
</p>

<strong>Get Collection</strong>

<p class="code">
<code>
	<span class="comment">// get List from ListDictionary</span> <br>
	List&lt;Object&gt; list = ListDictionary.arrayList().add(<span class="text">"on"</span>).add(<span class="text">"2022-01-01T12:45:58"</span>).toList(); <br>
	<span class="comment">// get Set from ListDictionary</span> <br>
	Set&lt;Object&gt; list = ListDictionary.hashSet().add(<span class="text">"on"</span>).add(<span class="text">"2022-01-01T12:45:58"</span>).toSet(); <br>
</code>
</p>

<strong>Get value</strong> 

<p class="code">
<code>
	<span class="comment">// get List from ListDictionary </span><br>
	ListDictionary&lt;Object&gt; list = ListDictionary.arrayList().add(1).add(<code class="text">"2022-01-01T12:45:58"</code>).toList(); <br>
	<span class="comment">// get "raw" value</span> <br>
	Object value = list.get(0); // value will be Intger 1 <br>
	<span class="comment">// get new DictionaryValue from value</span> <br>
	DictionaryValue v = list.getDictionaryValue(0); <br>
	<span class="comment">// to get with type </span><br>
	Integer integer = list.getInteger(0); <br>
	Boolean boolean = list.getBoolean(0); <br>
	Double doub = list.getDouble(0); <br>
	LocalDate date = list.getDate(0); <br>
</code>
</p>

<strong>ForEach</strong>

<p class="code">
<code>
	ListDictionary&lt;Object&gt; list = ...; <br>
	list.forEach((value)->{ <br>
<span class="tab"></span><span class="comment">/// !! value is DictionaryValue !! </span><br>
	}); <br>
	<span class="comment">// for standart forEach use forEach2 method</span>
</code>
</p>

<h2>Builders</h2>

<h3>IntegerBuilder</h3>

<p>Wrapper for Integer. Allows add (+) or remove (-) value. Useful in callbacks.</p>

<p class="code">
<code>
	List&lt;User&gt; users = ...; <br>

	<strike>int usersAge = 0;</strike> <br>
	<strike>users.forEach((user)->{</strike> <br>
<span class="tab"></span>		<strike>usersAge += user.getAge();</strike>  <br>
	<strike>});</strike>  <br>

	IntegerBuilder usersAge = new IntegerBuilder(); <br>
	users.forEach((user)->{	<br>
<span class="tab"></span>		usersAge.add(user.getAge());<br>
	}); <br>
</code>
</p>

<h3>ObjectBuilder</h3>

<p>Object wrapper. You can set, get, clear or check (<code>isPresent()</code>) value. Userful in callbacks.</p>

<h3>ListInit</h3>

<p>List wrapper. Method <code>add</code> returns self.</p>

<p class="code">
<code>
	ListInit&lt;String&gt; init = new ListInit&lt;String&gt;() <br>
<span class="tab"></span>	.add(<span class="text">"first"</span>) <br>
<span class="tab"></span>	.second(<span class="text">"second"</span>); <br>
	Set&lt;String&gt; set = init.toSet(); // convert to Set <br>
	List&lt;String&gt; list = init.toList(); // convert to List <br>
	ListDictionary&lt;String&gt; dictionary = init.toDictionaryList();
</code>
</p>

<h3>MapInit</h3>

<p>Map wrapper. Method <code>append</code>(instead of <code>put</code>) returns self.</p>

<p class="code">
<code>
	MapInit&lt;String, Object&gt; init = new MapInit&lt;String, Object&gt;() <br>
<span class="tab"></span>	.append(<span class="text">"first"</span>, false) <br>
<span class="tab"></span>	.append(<span class="text">"second"</span>, 42); <br>
	Map&lt;String, Object&gt; map = init.toMap(); // convert to Map <br>
	Properties prop = init.toProperties(); // convert to Properties <br>
	MapDictionary&lt;String, Object&gt; dictionary = init.toDictionaryMap();
</code>
</p>

<h2>Callbacks</h2>

<p>Java callbacks like <code>Function</code> or <code>Consumer</code> are very useful. But sometimes you need execute code throwing f.e. <code>IOException</code> inside <code>apply</code> method. And you have to do <code>try...catch</code>. But code that call <code>apply</code> is catched. Here help Throwing callbacks. Work like <code>Function</code> or <code>Consumer</code> or ... but throw given exception.</p>

<p>
	<ul>
		<li>ThrowingConsumer</li>
		<li>ThrowingBiConsumer</li>
		<li>ThrowingFunction</li>
		<li>ThrowingBiFunction</li>
		<li>ThrowingSupplier</li>
	</ul>
</p>

<h2>Tuple</h2>

<p>Tuple holds more variables in one object.

	<ul>
		<li>Tuple2 - holds two values</li>
		<li>TUple3 - holds three values</li>
	</ul>

</p>